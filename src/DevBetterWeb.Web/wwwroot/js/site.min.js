function epic(n){n.onerror="";n.src="/devbetter_icon_200x200.jpg"}class DarkModeToggle{constructor(){this.storageKey="devbetter_darkMode_member";this.init()}init(){this.isMemberArea()&&(this.loadDarkModePreference(),this.setupToggleButton(),this.updateToggleButton(),this.setupSystemPreferenceListener())}isMemberArea(){return document.getElementById("darkModeToggle")!==null||window.location.pathname.startsWith("/User/")||window.location.pathname.startsWith("/Admin/")||document.getElementById("wrapper")!==null}loadDarkModePreference(){const t=sessionStorage.getItem(this.storageKey),n=document.documentElement.getAttribute("data-theme");if(t!==null){const i=t==="true";(i&&n!=="dark"||!i&&n==="dark")&&this.setDarkMode(i);return}n==="dark"?sessionStorage.setItem(this.storageKey,"true"):this.setDarkMode(!1)}setDarkMode(n){const t=document.documentElement;n?t.setAttribute("data-theme","dark"):t.removeAttribute("data-theme");sessionStorage.setItem(this.storageKey,n.toString());window.dispatchEvent(new CustomEvent("darkModeToggled",{detail:{isDark:n}}))}toggleDarkMode(){const n=document.documentElement,t=n.getAttribute("data-theme")==="dark";this.setDarkMode(!t);this.updateToggleButton()}setupToggleButton(){const n=document.getElementById("darkModeToggle");n&&n.addEventListener("click",n=>{n.preventDefault(),this.toggleDarkMode()})}updateToggleButton(){const n=document.getElementById("darkModeToggle");if(n){const t=document.documentElement,i=t.getAttribute("data-theme")==="dark";i?(n.innerHTML='<i class="fas fa-sun"><\/i> Light',n.title="Switch to light mode",n.setAttribute("aria-label","Switch to light mode")):(n.innerHTML='<i class="fas fa-moon"><\/i> Dark',n.title="Switch to dark mode",n.setAttribute("aria-label","Switch to dark mode"))}}setupSystemPreferenceListener(){if(window.matchMedia){const n=window.matchMedia("(prefers-color-scheme: dark)");n.addEventListener("change",n=>{const t=sessionStorage.getItem(this.storageKey)!==null;t||(this.setDarkMode(n.matches),this.updateToggleButton())})}}getCurrentTheme(){const n=document.documentElement;return n.getAttribute("data-theme")==="dark"?"dark":"light"}}document.addEventListener("DOMContentLoaded",function(){const n=new DarkModeToggle;n.isMemberArea()&&(window.darkModeToggle=n,window.darkMode=n)});